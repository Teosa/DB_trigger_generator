# DB trigger generator
Приложение для генерирования тригеров журналирования для таблиц Postgres.<br>
В качестве параметра принимает путь к файлу или папке с файлами со списком столбцов, которые требуется журналировать.<br>

В результате работы приложения будут созданы:
1. Журнальная таблица.
2. Тригеры на вставку, изменение и удаление записи;
3. Функции для тригеров, отвечающие за вставку данных в журнальную таблицу в зависимости от действия;

### Инструкция по использованию
1. Создаем `.txt` файл. В качестве имени файла необходимо использовать название таблицы, для которой будем делать журнал.
2. Заполняем файл по принципу _`<имя колонки для журналирования>`_ _`<тип колонки>`_.
    - каждая пара колонка-тип должна начинаться с новой строки;
    - в качестве разделителей строк можно использовать запятые;
    - между названием колонки и ее типом должен быть хотя бы один разделитель. В качестве разделителей можно использовать пробелы и табы;
    - не надо добавлять в список колонку с идентификатором записи (ID), она будет добавлена по-умолчанию;
3. Вызываем приложение. Параметры: 
   - <путь>                полный путь к файлу или папке с файлами в формате .txt
   - <тип операции>        **`-c`** - создание таблицы и триггеров **`-a`** - изменение таблицы и триггеров **`-d`** - удаление таблицы и триггеров.
4. В процессе генерации приложение производит следующие замены:
   - NOT NULL           `->` пустая строка
   - CHARACTER VARYING  `->` VARCHAR
   - DEFAULT false      `->` пустая строка
   - DEFAULT true       `->` пустая строка
5. Файл со скриптом будет сгенерирован в ту же директорию где находится файл с описанием.

### Пример содержания файла с описанием
lnk_file_entity.txt

task_id NUMERIC(19,0),<br>
participant_id NUMERIC(19,0),<br>
file_entity_id NUMERIC(19,0),<br>
comments CHARACTER VARYING(255),<br>
asoa_flg NUMERIC(1,0),<br>
document_id NUMERIC(19,0),<br>
estate_object_id NUMERIC(19,0),<br>
appraisal_report_id NUMERIC(19,0),<br>
srg_flg BOOLEAN
    